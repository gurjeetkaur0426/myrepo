<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Live Delivery Tracking</title>

<style>
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
}

/* FLOATING BOX */
.delivery-box{
  position: fixed;
  top: 20px;
  right: 20px;
  width: 360px;
  background:#fff;
  border-radius:15px;
  padding:20px;
  box-shadow:0 15px 40px rgba(0,0,0,0.25);
  z-index: 9999;
  transition: 0.3s ease;
}

/* CLOSE BUTTON */
.delivery-close{
  position:absolute;
  top:-12px;
  right:-12px;
  width:34px;
  height:34px;
  border:none;
  background:#ff2e63;
  color:#fff;
  font-size:18px;
  border-radius:50%;
  cursor:pointer;
}

/* TEXT */
.time{
  margin-top:8px;
  font-weight:bold;
  color:#555;
}

/* ROAD */
.road{
  width:100%;
  height:50px;
  background:#eee;
  border-radius:30px;
  margin-top:15px;
  position:relative;
  overflow:hidden;
}

/* BIKE */
.bike{
  position:absolute;
  font-size:28px;
  left:0;
}

/* PROGRESS */
.progress{
  width:100%;
  height:8px;
  background:#ddd;
  border-radius:10px;
  margin-top:15px;
  overflow:hidden;
}

.progress-bar{
  height:100%;
  width:0%;
  background:#ff2e63;
  transition:0.3s;
}

.complete{
  color:green;
  font-weight:bold;
  margin-top:12px;
  display:none;
}

/* MINIMIZED MODE */
.delivery-box.minimized{
  height:55px;
  overflow:hidden;
  padding:10px 20px;
  cursor:pointer;
}

/* Hide content when minimized */
.delivery-box.minimized .road,
.delivery-box.minimized .progress,
.delivery-box.minimized .time,
.delivery-box.minimized #doneMsg{
  display:none;
}
  .delivery-box{
  position: fixed !important;
  top: 90px;
  right: 20px;
  width: 360px;
  background:#fff;
  border-radius:15px;
  padding:20px;
  box-shadow:0 15px 40px rgba(0,0,0,0.25);
  z-index:999999;
  transition:0.3s;
}

.delivery-close{
  position:absolute;
  top:-10px;
  right:-10px;
  width:32px;
  height:32px;
  border:none;
  background:#ff2e63;
  color:#fff;
  font-size:16px;
  border-radius:50%;
  cursor:pointer;
}

.time{font-weight:bold;margin-top:8px}

.road{
  width:100%;
  height:50px;
  background:#eee;
  border-radius:30px;
  margin-top:15px;
  position:relative;
  overflow:hidden;
}

.bike{position:absolute;font-size:28px}

.progress{
  width:100%;
  height:8px;
  background:#ddd;
  border-radius:10px;
  margin-top:15px;
}

.progress-bar{
  height:100%;
  width:0%;
  background:#ff2e63;
}

/* MINIMIZE MODE */
.delivery-box.min{
  height:55px;
  overflow:hidden;
  padding:10px 20px;
}

.delivery-box.min .road,
.delivery-box.min .progress,
.delivery-box.min .time,
.delivery-box.min #doneMsg{
  display:none;
}
</style>
</head>

<body>

<!-- DELIVERY POPUP -->
<div id="deliveryBox" class="delivery-box">
  <button class="delivery-close" onclick="deliveryMinimize(event)">âœ–</button>

  <h3>ðŸ“¦ Order Confirmed!</h3>
  Delivery Partner is on the way

  <div class="time">
    Estimated Time: <span id="countdown">30:00</span>
  </div>

  <div class="road">
    <div class="bike" id="bike">ðŸ›µ</div>
  </div>

  <div class="progress">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <div class="complete" id="doneMsg">
    ðŸŽ‰ Delivered Successfully!
  </div>
</div>

<script>
// TIMER (safe version)
(function(){
  let totalTime = 1800;
  let timeLeft = totalTime;

  const bike = document.getElementById("bike");
  const bar = document.getElementById("progressBar");

  if(!bike) return; // prevents errors in other pages

  setInterval(()=>{
    let m = Math.floor(timeLeft/60);
    let s = timeLeft%60;
    if(s<10) s="0"+s;

    const cd = document.getElementById("countdown");
    if(cd) cd.innerText = m+":"+s;

    let percent = ((totalTime-timeLeft)/totalTime)*100;
    bike.style.left = (percent*3)+"px";
    bar.style.width = percent+"%";

    timeLeft--;
  },1000);
})();

// ðŸ”´ MINIMIZE BUTTON (CONFLICT FREE)
function deliveryMinimize(e){
  e.stopPropagation();
  document.getElementById("deliveryBox").classList.toggle("min");
}
</script>


</body>
</html>

